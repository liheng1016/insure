{
  "_args": [
    [
      {
        "raw": "@stararc-insurance/export-file",
        "scope": "@stararc-insurance",
        "escapedName": "@stararc-insurance%2fexport-file",
        "name": "@stararc-insurance/export-file",
        "rawSpec": "",
        "spec": "latest",
        "type": "tag"
      },
      "E:\\phpEvent\\www\\react-redux\\pro.insur\\App"
    ]
  ],
  "_from": "@stararc-insurance/export-file@latest",
  "_id": "@stararc-insurance/export-file@1.0.12",
  "_inCache": true,
  "_location": "/@stararc-insurance/export-file",
  "_nodeVersion": "4.4.3",
  "_npmUser": {},
  "_npmVersion": "4.5.0",
  "_phantomChildren": {},
  "_requested": {
    "raw": "@stararc-insurance/export-file",
    "scope": "@stararc-insurance",
    "escapedName": "@stararc-insurance%2fexport-file",
    "name": "@stararc-insurance/export-file",
    "rawSpec": "",
    "spec": "latest",
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/",
    "/@stararc-insurance/pro",
    "/@stararc-insurance/pro/@stararc-insurance_functional-module/base-setting",
    "/@stararc-insurance/pro/@stararc-insurance_functional-module/claim-management",
    "/@stararc-insurance/pro/@stararc-insurance_functional-module/home-statistic",
    "/@stararc-insurance/pro/@stararc-insurance_functional-module/insur-control",
    "/@stararc-insurance/pro/@stararc-insurance_functional-module/risk-warning",
    "/@stararc-insurance/test",
    "/@stararc-insurance_functional-module/base-setting",
    "/@stararc-insurance_functional-module/claim-management",
    "/@stararc-insurance_functional-module/home-statistic",
    "/@stararc-insurance_functional-module/insur-control",
    "/@stararc-insurance_functional-module/risk-warning"
  ],
  "_resolved": "http://192.168.1.200:4873/@stararc-insurance%2fexport-file/-/export-file-1.0.12.tgz",
  "_shasum": "972b55fe58fdb42272c9ebe199195ae39acd9492",
  "_shrinkwrap": null,
  "_spec": "@stararc-insurance/export-file",
  "_where": "E:\\phpEvent\\www\\react-redux\\pro.insur\\App",
  "author": {
    "name": "liheng"
  },
  "dependencies": {
    "@stararc-component/button": "^1.0.4",
    "@stararc-insurance/common-request": "^1.0.0"
  },
  "description": ">导出excel文件组件,具体方法看如下code",
  "devDependencies": {},
  "dist": {
    "shasum": "972b55fe58fdb42272c9ebe199195ae39acd9492",
    "tarball": "http://192.168.1.200:4873/@stararc-insurance%2fexport-file/-/export-file-1.0.12.tgz"
  },
  "license": "ISC",
  "main": "index.js",
  "name": "@stararc-insurance/export-file",
  "optionalDependencies": {},
  "readme": "### 保险产品 导出组件\r\n\r\n>导出excel文件组件,具体方法看如下code\r\n\r\n>源码位置：@stararc-insurance/core/Export\r\n\r\n```\r\nimport React,{Component} from 'react';\r\nimport Button from '@stararc-component/button';\r\nimport commonRequest from \"@stararc-insurance/common-request\";\r\n\r\nexport default class ExportTable extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            disabled:false,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Button \r\n                className={\"blue-light\"}  \r\n                disabled={this.state.disabled}\r\n                onClick={this.props.onClick}\r\n                text={this.state.disabled?\"导出中...\":\"导出表格\"}>\r\n            </Button>\r\n        );\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        let self = this;\r\n\r\n        if(nextProps.exportData !=this.props.exportData){\r\n            if(!nextProps.exportData.content.length){\r\n                alert(\"没有相关数据可导出！\")\r\n                return;\r\n            }\r\n\r\n            let path = '/Export/exportDataToCSV',\r\n                {createFilePath,exportData,getFilePath}=nextProps;\r\n\r\n            let params={\r\n                title:JSON.stringify(exportData.title),\r\n                content:JSON.stringify(exportData.content),\r\n                filename:exportData.filename\r\n            };\r\n\r\n            self.setState({\r\n                disabled:true\r\n            });\r\n\r\n            commonRequest(createFilePath, params, 'post').then(function(data){\r\n                let path = '';\r\n\r\n                if (process.env.NODE_ENV != 'production') {\r\n                    path = LOCAL_DOMAIN;\r\n                }else{\r\n                    path=\"\";\r\n                }\r\n\r\n                path = PATH_PREFIX + path;\r\n\r\n                self.setState({\r\n                    disabled:false\r\n                },()=>{\r\n                    location.href=path+getFilePath+\"?path=\"+data.data;\r\n                })\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n###使用说明\r\n\r\n`createFilePath`    生成文件的对应的方法路径\r\n\r\n`getFilePath`        获取生成文件的方法路径\r\n\r\n`exportData`        导出excel需要的数据结构如下\r\n\r\n###机构\r\n\r\n``` \r\n<ExportComponent \r\n    createFilePath={\"/Export/exportDataToCSV\"}\r\n    getFilePath={\"/Export/getFile\"}\r\n    onClick={this.props.getExportData} \r\n    exportData={this.props.exportData}>\r\n</ExportComponent>\r\n\r\n```\r\nexportData = {\r\n    filename:filename,//文件名称,eg:\"test\"\r\n    title:title,//文件内容的表头，eg:[\"第一列\",\"第二列\"]\r\n    content:content//文件内容，eg:[\"data1\",\"data2\"]\r\n}\r\n",
  "readmeFilename": "README.md",
  "scripts": {
    "test": "test"
  },
  "version": "1.0.12"
}
