{
  "_args": [
    [
      {
        "raw": "@stararc-insurance/common-request",
        "scope": "@stararc-insurance",
        "escapedName": "@stararc-insurance%2fcommon-request",
        "name": "@stararc-insurance/common-request",
        "rawSpec": "",
        "spec": "latest",
        "type": "tag"
      },
      "E:\\phpEvent\\www\\react-redux\\pro.insur\\App"
    ]
  ],
  "_from": "@stararc-insurance/common-request@latest",
  "_id": "@stararc-insurance/common-request@1.0.0",
  "_inCache": true,
  "_location": "/@stararc-insurance/common-request",
  "_nodeVersion": "4.4.3",
  "_npmUser": {},
  "_npmVersion": "4.5.0",
  "_phantomChildren": {},
  "_requested": {
    "raw": "@stararc-insurance/common-request",
    "scope": "@stararc-insurance",
    "escapedName": "@stararc-insurance%2fcommon-request",
    "name": "@stararc-insurance/common-request",
    "rawSpec": "",
    "spec": "latest",
    "type": "tag"
  },
  "_requiredBy": [
    "#DEV:/",
    "#USER"
  ],
  "_resolved": "http://192.168.1.200:4873/@stararc-insurance%2fcommon-request/-/common-request-1.0.0.tgz",
  "_shasum": "2cac243d89c79d1793bab7ea20dbd8ef8e70dda1",
  "_shrinkwrap": null,
  "_spec": "@stararc-insurance/common-request",
  "_where": "E:\\phpEvent\\www\\react-redux\\pro.insur\\App",
  "author": {
    "name": "liheng"
  },
  "dependencies": {
    "isomorphic-fetch": "^2.2.1"
  },
  "description": ">fetch 调用接口数据",
  "devDependencies": {},
  "dist": {
    "shasum": "2cac243d89c79d1793bab7ea20dbd8ef8e70dda1",
    "tarball": "http://192.168.1.200:4873/@stararc-insurance%2fcommon-request/-/common-request-1.0.0.tgz"
  },
  "license": "ISC",
  "main": "index.js",
  "name": "@stararc-insurance/common-request",
  "optionalDependencies": {},
  "readme": "### 保险产品 请求API通用的方法\r\n\r\n>fetch 调用接口数据\r\n\r\n>源码位置：@stararc-insurance/core/commonRequest\r\n\r\n```\r\nimport fetch from 'isomorphic-fetch';\r\nexport default function commonRequest(path, data = {}, method = 'GET', headers = null) {\r\n    path = PATH_PREFIX + path;\r\n\r\n    if (process.env.NODE_ENV != 'production') {\r\n        path = LOCAL_DOMAIN + path;\r\n    }\r\n    let m = method.toUpperCase();\r\n    let opts = {\r\n        method: m,\r\n        headers: headers || {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        },\r\n        credentials: 'include'\r\n    };\r\n    if (m !== 'GET') {\r\n        opts.body = !headers ? objToUrlString(data) : data;\r\n    }\r\n\r\n    let p = m === 'GET' ? path + '?' + objToUrlString(data) : path;\r\n\r\n    return fetch(p, opts).then(function (response) {\r\n        let r = '';\r\n        try {\r\n            r = response.json();\r\n\r\n        } catch (e) {\r\n            r = {\r\n                msg: e\r\n            };\r\n        }\r\n\r\n        return r;\r\n    }, function (err) {\r\n        return {'ret': '-1', 'msg': '网络连接失败!', error: err};\r\n    });\r\n}\r\n\r\n/**\r\n * 将参数对象转为url字符串\r\n * @param obj\r\n * @returns {string}\r\n */\r\nfunction objToUrlString(obj) {\r\n    if (typeof obj !== 'object') {\r\n        new Error('params expect an object, but got an ' + typeof obj);\r\n        return;\r\n    }\r\n    let result = '';\r\n    for (let n in obj) {\r\n        if (obj.hasOwnProperty(n)) {\r\n            if (result != '') {\r\n                result += '&';\r\n            }\r\n            result += n + '=' + obj[n];\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n```\r\n\r\n###使用说明\r\n\r\ncommonRequest(path, params, 'post').then(function(data){})\r\n\r\n\r\n",
  "readmeFilename": "README.md",
  "scripts": {
    "test": "test"
  },
  "version": "1.0.0"
}
